-- 코드 마스터
CREATE TABLE tb_lc_cod01 (
	code_mst_cd varchar(10) NOT NULL,
	code_mst_nm varchar(100) NULL,
	code_mst_desc varchar(100) NULL,
	property01 varchar(100) NULL,
	property02 varchar(100) NULL,
	property03 varchar(100) NULL,
	property04 varchar(100) NULL,
	property05 varchar(100) NULL,
	use_yn char(1) NOT NULL DEFAULT 'Y'::character varying,
	reg_seq INTEGER NOT NULL,   
	reg_timestamp timestamp NOT NULL,
	upd_seq INTEGER NULL,
	upd_timestamp timestamp NULL, 
	PRIMARY KEY (code_mst_cd)
);

COMMENT ON TABLE tb_lc_cod01 IS '코드';
COMMENT ON COLUMN tb_lc_cod01.code_mst_cd IS '코드key';
COMMENT ON COLUMN tb_lc_cod01.code_mst_nm IS '코드명';
COMMENT ON COLUMN tb_lc_cod01.code_mst_desc IS '코드설명';
COMMENT ON COLUMN tb_lc_cod01.property01 IS '옵션1';
COMMENT ON COLUMN tb_lc_cod01.property02 IS '옵션2';
COMMENT ON COLUMN tb_lc_cod01.property03 IS '옵션3';
COMMENT ON COLUMN tb_lc_cod01.property04 IS '옵션4';
COMMENT ON COLUMN tb_lc_cod01.property05 IS '옵션5';
COMMENT ON COLUMN tb_lc_cod01.use_yn IS '사용여부';
COMMENT ON COLUMN tb_lc_cod01.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_cod01.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_cod01.upd_seq IS '수정자시퀀스';
COMMENT ON COLUMN tb_lc_cod01.upd_timestamp IS '수정일시';

commit;

CREATE TABLE tb_lc_cod01_detail (
	code_mst_cd varchar(10) NULL,
	code_dtl_cd varchar(10) NOT NULL,
	code_dtl_nm text NULL,
	code_dtl_desc text NULL,
	property01 varchar(100) NULL,
	property02 varchar(100) NULL,
	property03 varchar(100) NULL,
	property04 varchar(100) NULL,
	property05 varchar(100) NULL,
	use_yn varchar(1) NOT NULL DEFAULT 'Y'::character varying,
	reg_seq INTEGER NOT NULL,
	reg_timestamp timestamp NOT NULL,
	upd_seq INTEGER NULL,
	upd_timestamp timestamp NULL,
	PRIMARY KEY (code_mst_cd, code_dtl_cd)
);

COMMENT ON TABLE tb_lc_cod01_detail IS '코드';
COMMENT ON COLUMN tb_lc_cod01_detail.code_mst_cd IS '코드key';
COMMENT ON COLUMN tb_lc_cod01_detail.code_dtl_cd IS '상시코드key';
COMMENT ON COLUMN tb_lc_cod01_detail.code_dtl_nm IS '상세코드명';
COMMENT ON COLUMN tb_lc_cod01_detail.code_dtl_desc IS '상세코드설명';
COMMENT ON COLUMN tb_lc_cod01_detail.property01 IS '옵션1';
COMMENT ON COLUMN tb_lc_cod01_detail.property02 IS '옵션2';
COMMENT ON COLUMN tb_lc_cod01_detail.property03 IS '옵션3';
COMMENT ON COLUMN tb_lc_cod01_detail.property04 IS '옵션4';
COMMENT ON COLUMN tb_lc_cod01_detail.property05 IS '옵션5';
COMMENT ON COLUMN tb_lc_cod01_detail.use_yn IS '사용여부';
COMMENT ON COLUMN tb_lc_cod01_detail.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_cod01_detail.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_cod01_detail.upd_seq IS '수정자시퀀스';
COMMENT ON COLUMN tb_lc_cod01_detail.upd_timestamp IS '수정일시';

commit;







-- 사용자정보 seq

CREATE SEQUENCE tb_lc_member_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;
	

-- 사용자 정보
create table tb_lc_members(
	member_seq integer not null default nextval('tb_lc_member_seq')
	, member_id varchar(20) not null
	, password varchar(100) not null
	, com_code integer not null
	, member_name varchar(20)
	, email varchar(100)
	, extension_no varchar(20)
	, mobile_no varchar(20)
	, dept_nm varchar(30)
	, position_nm varchar(20)
	, join_dt varchar(8)
	, role_name varchar(20)
	, terms_yn char(1) not null default 'N'
	, terms_date varchar(8)
	, option_terms_yn char(1) not null
	, option_terms_date varchar(8) not null
	, appr_stat char(1) not null default '1'
	, msg varchar(200)
	, file_seq integer
	, fail_cnt integer
	, cre_yn char(1) not null default 'N'
	, cre_grp char(1)
	, drop_yn char(1) not null default 'N'
	, upd_seq INTEGER NULL
	, upd_timestamp timestamp NULL
	, PRIMARY KEY (member_seq)
);

commit;

COMMENT ON TABLE tb_lc_members IS '사용자정보';
COMMENT ON COLUMN tb_lc_members.member_seq IS '담당자시퀀스';
COMMENT ON COLUMN tb_lc_members.member_id IS '담당자ID';
COMMENT ON COLUMN tb_lc_members.password IS '비밀번호';
COMMENT ON COLUMN tb_lc_members.com_code IS '회원사코드';
COMMENT ON COLUMN tb_lc_members.member_name IS '담당자이름';
COMMENT ON COLUMN tb_lc_members.email IS '이메일';
COMMENT ON COLUMN tb_lc_members.extension_no IS '내선번호';
COMMENT ON COLUMN tb_lc_members.mobile_no IS '휴대폰번호';
COMMENT ON COLUMN tb_lc_members.dept_nm IS '부서명';
COMMENT ON COLUMN tb_lc_members.position_nm IS '직위명';
COMMENT ON COLUMN tb_lc_members.join_dt IS '가입일';
COMMENT ON COLUMN tb_lc_members.role_name IS '권한명';
COMMENT ON COLUMN tb_lc_members.terms_yn IS '약관동의';
COMMENT ON COLUMN tb_lc_members.terms_date IS '약관동의일';
COMMENT ON COLUMN tb_lc_members.option_terms_yn IS '선택적약관동의';
COMMENT ON COLUMN tb_lc_members.option_terms_date IS '선택적약관동의일';
COMMENT ON COLUMN tb_lc_members.appr_stat IS '승인상태(1.미승인,2.가승인,3.승인)';
COMMENT ON COLUMN tb_lc_members.msg IS '가승인사유';
COMMENT ON COLUMN tb_lc_members.file_seq IS '첨부파일ID';
COMMENT ON COLUMN tb_lc_members.fail_cnt IS '로그인실패횟수';
COMMENT ON COLUMN tb_lc_members.cre_yn IS '협회여부';
COMMENT ON COLUMN tb_lc_members.cre_grp IS '협회그룹';
COMMENT ON COLUMN tb_lc_members.drop_yn IS '탈퇴여부';
COMMENT ON COLUMN tb_lc_members.upd_seq IS '수정자시퀀스';
COMMENT ON COLUMN tb_lc_members.upd_timestamp IS '수정일시';


commit;

-- 회원사 정보
create table tb_lc_company(
	com_code integer not null
	, com_name varchar(30) not null
	, reg_timestamp timestamp
	, reg_seq integer
	, upd_timestamp timestamp
	, upd_seq integer
);


COMMENT ON TABLE tb_lc_company IS '회원사정보';
COMMENT ON COLUMN tb_lc_company.com_code IS '회원사코드';
COMMENT ON COLUMN tb_lc_company.com_name IS '회원사명';
COMMENT ON COLUMN tb_lc_company.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_company.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_company.upd_timestamp IS '수정일시';
COMMENT ON COLUMN tb_lc_company.upd_seq IS '수정자시퀀스';


commit;



-- 모집인 정보 seq
CREATE SEQUENCE tb_lc_mas01_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;


-- 모집인 정보 
create table tb_lc_mas01(
	master_seq integer not null default nextval('tb_lc_mas01_seq')
	, master_to_id varchar(20)
	, reg_path char(1) not null default 'B'
	, com_code integer
	, member_seq integer
	, user_seq integer
	, sub_yn char(1) not null default 'N'
	, pre_reg_yn char(1) not null default 'N'
	, pre_lc_num varchar(14)
	, pl_regist_no varchar(20)
	, con_num varchar(10)
	, pl_class varchar(2)
	, pl_work varchar(50)
	, corp_user_yn char(1) not null default 'N'
	, career_typ varchar(2)
	, api_career_yn char(1) not null default 'N'
	, pl_product varchar(30)
	, pl_reg_stat varchar(2)
	, pl_stat varchar(2)
	, pl_stat_req_seq integer
	, pl_stat_req_path char(1)
	, ci varchar(88)
	, pl_m_name varchar(50)
	, pl_m_z_id varchar(100)
	, pl_m_z_id_edu varchar(30)
	, pl_cellphone varchar(20)
	, addr varchar(2)
	, addr_base varchar(200)
	, addr_detail varchar(200)
	, reg_addr varchar(200)
	, reg_addr_detail varchar(200)
	, pl_edu_no varchar(30)
	, career_start_date varchar(8)
	, career_end_date varchar(8)
	, entrust_date varchar(8)
	, com_cont_date varchar(8)
	, pl_merchant_name varchar(30)
	, pl_ceo_name varchar(50)
	, pl_merchant_no varchar(100)
	, pl_business_no varchar(10)
	, comp_phone_no varchar(20)
	, corp_found_date varchar(8)
	, capital varchar(20)
	, voting_stock_cnt varchar(20)
	, other_field varchar(100)
	, within_govr integer
	, within_police integer
	, within_adm integer
	, within_adm_name varchar(100)
	, pl_pay_stat varchar(2)
	, com_reg_date varchar(8)
	, first_app_date varchar(8)
	, app_date_hold varchar(8)
	, chk_yn char(1)
	, admin_chk_yn char(1)
	, admin_chk_seq integer
	, com_upd_date varchar(8)
	, cre_app_fi_date varchar(8)
	, cre_app_date varchar(8)
	, cre_license_date varchar(8)
	, pay_date varchar(8)
	, send_msg varchar(200)
	, pl_hist_cd varchar(10)
	, pl_hist_txt text 
	, apply_hist_txt text 
	, apply_com_hist_txt text 
	, com_haeji_date varchar(8)
	, cre_haeji_date varchar(8)
	, file_seq integer
	, use_yn char(1) not null default 'Y'
	, reg_seq integer
	, reg_timestamp timestamp NOT NULL
	, upd_seq INTEGER NULL
	, upd_timestamp timestamp NULL
	, api_res_msg text
	, PRIMARY KEY (master_seq)
);

commit;

COMMENT ON TABLE tb_lc_mas01 IS '모집인정보';
COMMENT ON COLUMN tb_lc_mas01.master_seq IS '접수번호시퀀스';
COMMENT ON COLUMN tb_lc_mas01.master_to_id IS '접수번호ID(조회)';
COMMENT ON COLUMN tb_lc_mas01.reg_path IS '등록경로';
COMMENT ON COLUMN tb_lc_mas01.com_code IS '회원사코드';
COMMENT ON COLUMN tb_lc_mas01.member_seq IS '담당자시퀀스';
COMMENT ON COLUMN tb_lc_mas01.user_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_mas01.sub_yn IS '약식등록여부';
COMMENT ON COLUMN tb_lc_mas01.pre_reg_yn IS '기등록여부';
COMMENT ON COLUMN tb_lc_mas01.pre_lc_num IS '가등록번호';
COMMENT ON COLUMN tb_lc_mas01.pl_regist_no IS '등록번호';
COMMENT ON COLUMN tb_lc_mas01.con_num IS '계약번호';
COMMENT ON COLUMN tb_lc_mas01.pl_class IS '분류';
COMMENT ON COLUMN tb_lc_mas01.pl_work IS '업종';
COMMENT ON COLUMN tb_lc_mas01.corp_user_yn IS '법인사용인여부';
COMMENT ON COLUMN tb_lc_mas01.career_typ IS '구분(신규/경력)';
COMMENT ON COLUMN tb_lc_mas01.api_career_yn IS '은행연합회API경력여부(신규/경력)';
COMMENT ON COLUMN tb_lc_mas01.pl_product IS '금융상품유형(취급상품)';
COMMENT ON COLUMN tb_lc_mas01.pl_reg_stat IS '모집인상태(1.등록,2.정상해지,3.불법해지)';
COMMENT ON COLUMN tb_lc_mas01.pl_stat IS '처리상태';
COMMENT ON COLUMN tb_lc_mas01.pl_stat_req_seq IS '처리상태 요청자시퀀스';
COMMENT ON COLUMN tb_lc_mas01.pl_stat_req_path IS '처리상태 요청경로';
COMMENT ON COLUMN tb_lc_mas01.pl_m_name IS '모집인이름';
COMMENT ON COLUMN tb_lc_mas01.ci IS 'CI값';
COMMENT ON COLUMN tb_lc_mas01.pl_m_z_id IS '모집인주민등록번호';
COMMENT ON COLUMN tb_lc_mas01.pl_m_z_id_edu IS '교육수료대조(주민등록번호대체값)';
COMMENT ON COLUMN tb_lc_mas01.pl_cellphone IS '모집인휴대전화번호';
COMMENT ON COLUMN tb_lc_mas01.addr IS '본점소재지(코드)';
COMMENT ON COLUMN tb_lc_mas01.addr_base IS '본점소재지';
COMMENT ON COLUMN tb_lc_mas01.addr_detail IS '상세주소(법인등기부등본상)';
COMMENT ON COLUMN tb_lc_mas01.reg_addr IS '등록기준지';
COMMENT ON COLUMN tb_lc_mas01.reg_addr_detail IS '등록기준지 상세주소';
COMMENT ON COLUMN tb_lc_mas01.pl_edu_no IS '교육이수번호';
COMMENT ON COLUMN tb_lc_mas01.career_start_date IS '경력시작일';
COMMENT ON COLUMN tb_lc_mas01.career_end_date IS '경력종료일';
COMMENT ON COLUMN tb_lc_mas01.entrust_date IS '위탁예정일';
COMMENT ON COLUMN tb_lc_mas01.pl_merchant_name IS '법인명';
COMMENT ON COLUMN tb_lc_mas01.pl_ceo_name IS '대표이사명';
COMMENT ON COLUMN tb_lc_mas01.pl_merchant_no IS '법인등록번호';
COMMENT ON COLUMN tb_lc_mas01.pl_business_no IS '사업자등록번호';
COMMENT ON COLUMN tb_lc_mas01.comp_phone_no IS '회원사대표번호';
COMMENT ON COLUMN tb_lc_mas01.corp_found_date IS '법인설립일';
COMMENT ON COLUMN tb_lc_mas01.capital IS '자본금';
COMMENT ON COLUMN tb_lc_mas01.voting_stock_cnt IS '의결권있는 발행주식 총수';
COMMENT ON COLUMN tb_lc_mas01.other_field IS '영위하는 다른 업종';
COMMENT ON COLUMN tb_lc_mas01.within_govr IS '관할 검찰청 또는 지청';
COMMENT ON COLUMN tb_lc_mas01.within_police IS '관할 경찰청';
COMMENT ON COLUMN tb_lc_mas01.within_adm IS '관할 행정관청';
COMMENT ON COLUMN tb_lc_mas01.within_adm_name IS '관할 행정관청(직접입력)';
COMMENT ON COLUMN tb_lc_mas01.com_cont_date IS '계약일자(회원사)';
COMMENT ON COLUMN tb_lc_mas01.com_reg_date IS '신청일(심사요청일)';
COMMENT ON COLUMN tb_lc_mas01.first_app_date IS '최초심사요청일';
COMMENT ON COLUMN tb_lc_mas01.app_date_hold IS '승인일홀딩';
COMMENT ON COLUMN tb_lc_mas01.chk_yn IS '실무자확인여부';
COMMENT ON COLUMN tb_lc_mas01.admin_chk_yn IS '관리자확인여부';
COMMENT ON COLUMN tb_lc_mas01.admin_chk_seq IS '관리자확인회원번호';
COMMENT ON COLUMN tb_lc_mas01.com_upd_date IS '보완요청일';
COMMENT ON COLUMN tb_lc_mas01.cre_app_fi_date IS '승인남은일';
COMMENT ON COLUMN tb_lc_mas01.cre_app_date IS '승인일(심사완료일)';
COMMENT ON COLUMN tb_lc_mas01.cre_license_date IS '자격취득일';
COMMENT ON COLUMN tb_lc_mas01.pl_pay_stat IS '결제상태';
COMMENT ON COLUMN tb_lc_mas01.pay_date IS '결제완료일';
COMMENT ON COLUMN tb_lc_mas01.send_msg IS '전달메세지';
COMMENT ON COLUMN tb_lc_mas01.pl_hist_cd IS '해지사유';
COMMENT ON COLUMN tb_lc_mas01.pl_hist_txt IS '직접입력(사유)';
COMMENT ON COLUMN tb_lc_mas01.apply_hist_txt IS '승인요청사유';
COMMENT ON COLUMN tb_lc_mas01.apply_com_hist_txt IS '승인완료사유';
COMMENT ON COLUMN tb_lc_mas01.com_haeji_date IS '회원사해지일자(회원사입력날짜)';
COMMENT ON COLUMN tb_lc_mas01.cre_haeji_date IS '협회해지일자(해지승인날짜)';
COMMENT ON COLUMN tb_lc_mas01.file_seq IS '첨부파일시퀀스';
COMMENT ON COLUMN tb_lc_mas01.use_yn IS '사용여부';
COMMENT ON COLUMN tb_lc_mas01.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_mas01.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_mas01.upd_seq IS '수정자시퀀스';
COMMENT ON COLUMN tb_lc_mas01.upd_timestamp IS '수정일시';
COMMENT ON COLUMN tb_lc_mas01.api_res_msg IS 'API결과메세지';


commit;





-- 임원 seq
CREATE SEQUENCE tb_lc_mas01_imwon_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;

-- 임원 정보
create table tb_lc_mas01_imwon(
	exc_seq integer not null default nextval('tb_lc_mas01_imwon_seq')
	, master_seq integer not null
	, user_seq integer
	, career_typ char(1)
	, position_nm varchar(20)
	, exc_name varchar(50)
	, pl_m_z_id varchar(100)
	, pl_edu_no varchar(30)
	, career_start_date varchar(8)
	, career_end_date varchar(8)
	, full_tm_stat char(1)
	, expert_stat char(1)
	, position_cd char(1)
	, proper_cd char(1)
	, reg_addr varchar(200)
	, reg_addr_detail varchar(200)
	, file_seq integer
	, use_yn char(1) NOT NULL DEFAULT 'Y'
	, reg_seq INTEGER NOT NULL
	, reg_timestamp timestamp NOT NULL
	, upd_seq INTEGER NULL
	, upd_timestamp timestamp NULL 
	, primary key (exc_seq)
);

COMMENT ON TABLE tb_lc_mas01_imwon IS '임원정보';
COMMENT ON COLUMN tb_lc_mas01_imwon.exc_seq IS '임원시퀀스';
COMMENT ON COLUMN tb_lc_mas01_imwon.master_seq IS '접수번호시퀀스';
COMMENT ON COLUMN tb_lc_mas01_imwon.user_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_mas01_imwon.career_typ IS '구분(신규/경력)';
COMMENT ON COLUMN tb_lc_mas01_imwon.position_nm IS '직위명';
COMMENT ON COLUMN tb_lc_mas01_imwon.exc_name IS '이름';
COMMENT ON COLUMN tb_lc_mas01_imwon.pl_m_z_id IS '주민등록번호';
COMMENT ON COLUMN tb_lc_mas01_imwon.pl_edu_no IS '교육이수번호';
COMMENT ON COLUMN tb_lc_mas01_imwon.career_start_date IS '경력시작일';
COMMENT ON COLUMN tb_lc_mas01_imwon.career_end_date IS '경력종료일';
COMMENT ON COLUMN tb_lc_mas01_imwon.full_tm_stat IS '상근상태';
COMMENT ON COLUMN tb_lc_mas01_imwon.expert_stat IS '전문인력상태';
COMMENT ON COLUMN tb_lc_mas01_imwon.position_cd IS '직위';
COMMENT ON COLUMN tb_lc_mas01_imwon.proper_cd IS '임원자격 적합여부';
COMMENT ON COLUMN tb_lc_mas01_imwon.reg_addr IS '등록기준지';
COMMENT ON COLUMN tb_lc_mas01_imwon.reg_addr_detail IS '등록기준지 상세주소';
COMMENT ON COLUMN tb_lc_mas01_imwon.file_seq IS '파일시퀀스';
COMMENT ON COLUMN tb_lc_mas01_imwon.use_yn IS '사용여부';
COMMENT ON COLUMN tb_lc_mas01_imwon.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_mas01_imwon.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_mas01_imwon.upd_seq IS '수정자시퀀스';
COMMENT ON COLUMN tb_lc_mas01_imwon.upd_timestamp IS '수정일시';


commit;



-- 전문인력 seq
CREATE SEQUENCE tb_lc_mas01_expert_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;


-- 전문인력 정보
create table tb_lc_mas01_expert(
	exp_seq integer not null default nextval('tb_lc_mas01_expert_seq')
	, master_seq integer not null
	, career_typ char(1)
	, exp_name varchar(50)
	, pl_m_z_id varchar(100)
	, pl_edu_no varchar(30)
	, career_start_date varchar(8)
	, career_end_date varchar(8)
	, file_seq integer
	, use_yn char(1) NOT NULL DEFAULT 'Y'
	, reg_seq INTEGER NOT NULL
	, reg_timestamp timestamp NOT NULL
	, upd_seq INTEGER NULL
	, upd_timestamp timestamp NULL 
	, primary key (exp_seq)
);

COMMENT ON TABLE tb_lc_mas01_expert IS '전문인력정보';
COMMENT ON COLUMN tb_lc_mas01_expert.exp_seq IS '전문인력시퀀스';
COMMENT ON COLUMN tb_lc_mas01_expert.master_seq IS '접수번호시퀀스';
COMMENT ON COLUMN tb_lc_mas01_expert.career_typ IS '구분(신규/경력)';
COMMENT ON COLUMN tb_lc_mas01_expert.exp_name IS '이름';
COMMENT ON COLUMN tb_lc_mas01_expert.pl_m_z_id IS '주민등록번호';
COMMENT ON COLUMN tb_lc_mas01_expert.pl_edu_no IS '교육이수번호';
COMMENT ON COLUMN tb_lc_mas01_expert.career_start_date IS '경력시작일';
COMMENT ON COLUMN tb_lc_mas01_expert.career_end_date IS '경력종료일';
COMMENT ON COLUMN tb_lc_mas01_expert.file_seq IS '파일시퀀스';
COMMENT ON COLUMN tb_lc_mas01_expert.use_yn IS '사용여부';
COMMENT ON COLUMN tb_lc_mas01_expert.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_mas01_expert.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_mas01_expert.upd_seq IS '수정자시퀀스';
COMMENT ON COLUMN tb_lc_mas01_expert.upd_timestamp IS '수정일시';


commit;


-- 전산인력 seq
CREATE SEQUENCE tb_lc_mas01_it_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;


-- 전산인력 정보
create table tb_lc_mas01_it(
	oper_seq integer not null default nextval('tb_lc_mas01_it_seq')
	, master_seq integer not null
	, oper_name varchar(50)
	, pl_m_z_id varchar(100)
	, file_seq integer
	, use_yn char(1) NOT NULL DEFAULT 'Y'
	, reg_seq INTEGER NOT NULL
	, reg_timestamp timestamp NOT NULL
	, upd_seq INTEGER NULL
	, upd_timestamp timestamp NULL 
	, primary key (oper_seq)
);


COMMENT ON TABLE tb_lc_mas01_it IS '전산인력정보';
COMMENT ON COLUMN tb_lc_mas01_it.oper_seq IS '전산인력시퀀스';
COMMENT ON COLUMN tb_lc_mas01_it.master_seq IS '접수번호시퀀스';
COMMENT ON COLUMN tb_lc_mas01_it.oper_name IS '이름';
COMMENT ON COLUMN tb_lc_mas01_it.pl_m_z_id IS '주민등록번호';
COMMENT ON COLUMN tb_lc_mas01_it.file_seq IS '파일시퀀스';
COMMENT ON COLUMN tb_lc_mas01_it.use_yn IS '사용여부';
COMMENT ON COLUMN tb_lc_mas01_it.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_mas01_it.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_mas01_it.upd_seq IS '수정자시퀀스';
COMMENT ON COLUMN tb_lc_mas01_it.upd_timestamp IS '수정일시';


commit;




-- 모집인단계이력 seq
CREATE SEQUENCE tb_lc_mas01_step_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;



-- 모집인단계이력
create table tb_lc_mas01_step(
	master_step_seq integer not null default nextval('tb_lc_mas01_step_seq')
	, master_seq integer not null
	, pl_reg_stat varchar(2) null
	, pl_stat varchar(2) null
	, pl_hist_txt text null
	, pl_stat_req_seq integer
	, pl_stat_req_path char(1)
	, reg_timestamp timestamp
	, reg_seq integer
	, primary key (master_step_seq)
);

COMMENT ON TABLE tb_lc_mas01_step IS '모집인단계이력';
COMMENT ON COLUMN tb_lc_mas01_step.master_step_seq IS '단계이력시퀀스';
COMMENT ON COLUMN tb_lc_mas01_step.master_seq IS '접수번호시퀀스';
COMMENT ON COLUMN tb_lc_mas01_step.pl_reg_stat IS '모집인상태';
COMMENT ON COLUMN tb_lc_mas01_step.pl_stat IS '처리상태';
COMMENT ON COLUMN tb_lc_mas01_step.pl_hist_txt IS '직접입력(사유)';
COMMENT ON COLUMN tb_lc_mas01_step.pl_stat_req_seq IS '처리상태 요청자시퀀스';
COMMENT ON COLUMN tb_lc_mas01_step.pl_stat_req_path IS '처리상태 요청경로';
COMMENT ON COLUMN tb_lc_mas01_step.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_mas01_step.reg_timestamp IS '등록일시';

commit;

-- 모집인 변경이력 정보 seq
CREATE SEQUENCE tb_lc_mas01_hist_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;


-- 모집인 변경이력 정보
create table tb_lc_mas01_hist(
	master_hist_seq integer not null default nextval('tb_lc_mas01_hist_seq')
	, master_seq integer
	, master_to_id varchar(20)
	, reg_path char(1) not null default 'B'
	, com_code integer
	, member_seq integer
	, user_seq integer
	, sub_yn char(1) not null default 'N'
	, pre_reg_yn char(1) not null default 'N'
	, pre_lc_num varchar(14)
	, pl_regist_no varchar(20)
	, con_num varchar(10)
	, pl_class varchar(2)
	, pl_work varchar(50)
	, corp_user_yn char(1) not null default 'N'
	, career_typ varchar(2)
	, api_career_yn char(1) not null default 'N'
	, pl_product varchar(30)
	, pl_reg_stat varchar(2)
	, pl_stat varchar(2)
	, pl_stat_req_seq integer
	, pl_stat_req_path char(1)
	, ci varchar(88)
	, pl_m_name varchar(50)
	, pl_m_z_id varchar(100)
	, pl_m_z_id_edu varchar(30)
	, pl_cellphone varchar(20)
	, addr varchar(2)
	, addr_base varchar(200)
	, addr_detail varchar(200)
	, reg_addr varchar(200)
	, reg_addr_detail varchar(200)
	, pl_edu_no varchar(30)
	, career_start_date varchar(8)
	, career_end_date varchar(8)
	, entrust_date varchar(8)
	, com_cont_date varchar(8)
	, pl_merchant_name varchar(30)
	, pl_ceo_name varchar(50)
	, pl_merchant_no varchar(100)
	, pl_business_no varchar(10)
	, comp_phone_no varchar(20)
	, corp_found_date varchar(8)
	, capital varchar(20)
	, voting_stock_cnt varchar(20)
	, other_field varchar(100)
	, within_govr integer
	, within_police integer
	, within_adm integer
	, within_adm_name varchar(100)
	, pl_pay_stat varchar(2)
	, com_reg_date varchar(8)
	, first_app_date varchar(8)
	, app_date_hold varchar(8)
	, chk_yn char(1)
	, admin_chk_yn char(1)
	, admin_chk_seq integer
	, com_upd_date varchar(8)
	, cre_app_fi_date varchar(8)
	, cre_app_date varchar(8)
	, cre_license_date varchar(8)
	, pay_date varchar(8)
	, send_msg varchar(200)
	, pl_hist_cd varchar(10)
	, pl_hist_txt text 
	, apply_hist_txt text 
	, apply_com_hist_txt text 
	, com_haeji_date varchar(8)
	, cre_haeji_date varchar(8)
	, file_seq integer
	, use_yn char(1) NOT NULL DEFAULT 'Y'
	, reg_seq integer
	, reg_timestamp timestamp NOT NULL
	, upd_seq INTEGER NULL
	, upd_timestamp timestamp NULL
	, api_res_msg text
	, PRIMARY KEY (master_hist_seq)
);

commit;

COMMENT ON TABLE tb_lc_mas01_hist IS '모집인정보';
COMMENT ON COLUMN tb_lc_mas01_hist.master_hist_seq IS '모집인변경이력시퀀스';
COMMENT ON COLUMN tb_lc_mas01_hist.master_seq IS '접수번호시퀀스';
COMMENT ON COLUMN tb_lc_mas01_hist.master_to_id IS '접수번호ID(조회)';
COMMENT ON COLUMN tb_lc_mas01_hist.reg_path IS '등록경로';
COMMENT ON COLUMN tb_lc_mas01_hist.com_code IS '회원사코드';
COMMENT ON COLUMN tb_lc_mas01_hist.member_seq IS '담당자시퀀스';
COMMENT ON COLUMN tb_lc_mas01_hist.user_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_mas01_hist.sub_yn IS '약식등록여부';
COMMENT ON COLUMN tb_lc_mas01_hist.pre_reg_yn IS '기등록여부';
COMMENT ON COLUMN tb_lc_mas01_hist.pre_lc_num IS '가등록번호';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_regist_no IS '등록번호';
COMMENT ON COLUMN tb_lc_mas01_hist.con_num IS '계약번호';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_class IS '분류';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_work IS '업종';
COMMENT ON COLUMN tb_lc_mas01_hist.corp_user_yn IS '법인사용인여부';
COMMENT ON COLUMN tb_lc_mas01_hist.career_typ IS '구분(신규/경력)';
COMMENT ON COLUMN tb_lc_mas01_hist.api_career_yn IS '은행연합회API경력여부(신규/경력)';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_product IS '금융상품유형(취급상품)';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_reg_stat IS '모집인상태(1.등록,2.정상해지,3.불법해지)';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_stat IS '처리상태';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_stat_req_seq IS '처리상태 요청자시퀀스';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_stat_req_path IS '처리상태 요청경로';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_m_name IS '모집인이름';
COMMENT ON COLUMN tb_lc_mas01_hist.ci IS 'CI값';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_m_z_id IS '모집인주민등록번호';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_m_z_id_edu IS '교육수료대조(주민등록번호대체값)';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_cellphone IS '모집인휴대전화번호';
COMMENT ON COLUMN tb_lc_mas01_hist.addr IS '본점소재지(코드)';
COMMENT ON COLUMN tb_lc_mas01_hist.addr_base IS '본점소재지';
COMMENT ON COLUMN tb_lc_mas01_hist.addr_detail IS '상세주소(법인등기부등본상)';
COMMENT ON COLUMN tb_lc_mas01_hist.reg_addr IS '등록기준지';
COMMENT ON COLUMN tb_lc_mas01_hist.reg_addr_detail IS '등록기준지 상세주소';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_edu_no IS '교육이수번호';
COMMENT ON COLUMN tb_lc_mas01_hist.career_start_date IS '경력시작일';
COMMENT ON COLUMN tb_lc_mas01_hist.career_end_date IS '경력종료일';
COMMENT ON COLUMN tb_lc_mas01_hist.entrust_date IS '위탁예정일';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_merchant_name IS '법인명';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_ceo_name IS '대표이사명';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_merchant_no IS '법인등록번호';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_business_no IS '사업자등록번호';
COMMENT ON COLUMN tb_lc_mas01_hist.comp_phone_no IS '회원사대표번호';
COMMENT ON COLUMN tb_lc_mas01_hist.corp_found_date IS '법인설립일';
COMMENT ON COLUMN tb_lc_mas01_hist.capital IS '자본금';
COMMENT ON COLUMN tb_lc_mas01_hist.voting_stock_cnt IS '의결권있는 발행주식 총수';
COMMENT ON COLUMN tb_lc_mas01_hist.other_field IS '영위하는 다른 업종';
COMMENT ON COLUMN tb_lc_mas01_hist.within_govr IS '관할 검찰청 또는 지청';
COMMENT ON COLUMN tb_lc_mas01_hist.within_police IS '관할 경찰청';
COMMENT ON COLUMN tb_lc_mas01_hist.within_adm IS '관할 행정관청';
COMMENT ON COLUMN tb_lc_mas01_hist.within_adm_name IS '관할 행정관청(직접입력)';
COMMENT ON COLUMN tb_lc_mas01_hist.com_cont_date IS '계약일자(회원사)';
COMMENT ON COLUMN tb_lc_mas01_hist.com_reg_date IS '신청일(심사요청일)';
COMMENT ON COLUMN tb_lc_mas01_hist.first_app_date IS '최초심사요청일';
COMMENT ON COLUMN tb_lc_mas01_hist.app_date_hold IS '승인일홀딩';
COMMENT ON COLUMN tb_lc_mas01_hist.chk_yn IS '실무자확인여부';
COMMENT ON COLUMN tb_lc_mas01_hist.admin_chk_yn IS '관리자확인여부';
COMMENT ON COLUMN tb_lc_mas01_hist.admin_chk_seq IS '관리자확인회원번호';
COMMENT ON COLUMN tb_lc_mas01_hist.com_upd_date IS '보완요청일';
COMMENT ON COLUMN tb_lc_mas01_hist.cre_app_fi_date IS '승인남은일';
COMMENT ON COLUMN tb_lc_mas01_hist.cre_app_date IS '승인일(심사완료일)';
COMMENT ON COLUMN tb_lc_mas01_hist.cre_license_date IS '자격취득일';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_pay_stat IS '결제상태';
COMMENT ON COLUMN tb_lc_mas01_hist.pay_date IS '결제완료일';
COMMENT ON COLUMN tb_lc_mas01_hist.send_msg IS '전달메세지';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_hist_cd IS '해지사유';
COMMENT ON COLUMN tb_lc_mas01_hist.pl_hist_txt IS '직접입력(사유)';
COMMENT ON COLUMN tb_lc_mas01_hist.apply_hist_txt IS '승인요청사유';
COMMENT ON COLUMN tb_lc_mas01_hist.apply_com_hist_txt IS '승인완료사유';
COMMENT ON COLUMN tb_lc_mas01_hist.com_haeji_date IS '회원사해지일자(회원사입력날짜)';
COMMENT ON COLUMN tb_lc_mas01_hist.cre_haeji_date IS '협회해지일자(해지승인날짜)';
COMMENT ON COLUMN tb_lc_mas01_hist.file_seq IS '첨부파일시퀀스';
COMMENT ON COLUMN tb_lc_mas01_hist.use_yn IS '사용여부';
COMMENT ON COLUMN tb_lc_mas01_hist.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_mas01_hist.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_mas01_hist.upd_seq IS '수정자시퀀스';
COMMENT ON COLUMN tb_lc_mas01_hist.upd_timestamp IS '수정일시';
COMMENT ON COLUMN tb_lc_mas01_hist.api_res_msg IS 'API결과메세지';

commit;



-- 결제 seq
CREATE SEQUENCE tb_lc_pay_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;

-- 결제정보
create table tb_lc_pay(
	pay_seq integer not null default nextval('tb_lc_pay_seq')
	, order_no varchar(20) not null
	, master_seq integer not null
	, pay_type varchar(10) not null
	, seq_no varchar(30) not null
	, approval_no varchar(30) not null
	, id varchar(20) not null
	, name varchar(20) not null
	, sell_mm varchar(10) not null
	, amt integer not null
	, reg_timestamp timestamp not null
	, reg_seq integer not null
);
commit;

COMMENT ON TABLE tb_lc_pay is '결제정보';
COMMENT ON COLUMN tb_lc_pay.pay_seq is '결제시퀀스';
COMMENT ON COLUMN tb_lc_pay.order_no is '주문번호';
COMMENT ON COLUMN tb_lc_pay.master_seq is '접수번호시퀀스';
COMMENT ON COLUMN tb_lc_pay.pay_type is '지불수단';
COMMENT ON COLUMN tb_lc_pay.seq_no is '거래일련번호';
COMMENT ON COLUMN tb_lc_pay.approval_no is '승인번호';
COMMENT ON COLUMN tb_lc_pay.id is '카드/은행ID';
COMMENT ON COLUMN tb_lc_pay.name is '카드/은행명';
COMMENT ON COLUMN tb_lc_pay.sell_mm is '할부개월';
COMMENT ON COLUMN tb_lc_pay.amt is '금액';
COMMENT ON COLUMN tb_lc_pay.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_pay.reg_seq IS '등록자시퀀스';

commit;






-- 첨부파일 seq
CREATE SEQUENCE tb_lc_file01_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;

-- 첨부파일 그룹 seq
CREATE SEQUENCE tb_lc_grp_file01_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;

-- 첨부파일
CREATE TABLE tb_lc_file01 (
	file_seq integer not null default nextval('tb_lc_file01_seq')
	, file_grp_seq integer not null default 0
	, file_type varchar(10)	null
	, file_ext varchar(10) not null
	, file_org_nm varchar(100) not null
	, file_path varchar(100) not null
	, file_save_nm varchar(50) not null
	, use_yn char(1) not null
	, reg_timestamp timestamp NOT NULL
	, upd_seq INTEGER NULL
	, upd_timestamp timestamp NULL
	, primary key (file_seq, file_grp_seq)
);



COMMENT ON TABLE tb_lc_file01 IS '첨부파일';
COMMENT ON COLUMN tb_lc_file01.file_seq IS '첨부파일시퀀스';
COMMENT ON COLUMN tb_lc_file01.file_grp_seq IS '첨부파일그룹시퀀스';
COMMENT ON COLUMN tb_lc_file01.file_ext IS '파일확장자';
COMMENT ON COLUMN tb_lc_file01.file_org_nm IS '원본파일명';
COMMENT ON COLUMN tb_lc_file01.file_path IS '파일경로';
COMMENT ON COLUMN tb_lc_file01.file_save_nm IS '파일명';
COMMENT ON COLUMN tb_lc_file01.file_type IS '파일타입';
COMMENT ON COLUMN tb_lc_file01.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_file01.upd_seq IS '수정자시퀀스';
COMMENT ON COLUMN tb_lc_file01.upd_timestamp IS '수정일시';

commit;



-- 공지사항 seq
CREATE SEQUENCE tb_lc_notice_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;


-- 공지사항
create table tb_lc_notice(
	notice_seq integer not null default nextval('tb_lc_notice_seq')
	, notice_disp_cd char(1) not null default '1'
	, title varchar(100) not null
	, info text not null 
	, view_cnt integer not null default 0
	, file_seq integer
	, del_yn char(1) not null default 'N'
	, reg_timestamp timestamp
	, reg_seq integer
	, upd_timestamp timestamp
	, upd_seq integer
	, primary key (notice_seq)
);

COMMENT ON TABLE tb_lc_notice IS '공지사항';
COMMENT ON COLUMN tb_lc_notice.notice_seq IS '공지사항시퀀스';
COMMENT ON COLUMN tb_lc_notice.notice_disp_cd IS '노출대상';
COMMENT ON COLUMN tb_lc_notice.title IS '제목';
COMMENT ON COLUMN tb_lc_notice.info IS '내용';
COMMENT ON COLUMN tb_lc_notice.view_cnt IS '조회수';
COMMENT ON COLUMN tb_lc_notice.file_seq IS '첨부파일시퀀스';
COMMENT ON COLUMN tb_lc_notice.del_yn IS '삭제여부';
COMMENT ON COLUMN tb_lc_notice.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_notice.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_notice.upd_timestamp IS '수정일시';
COMMENT ON COLUMN tb_lc_notice.upd_seq IS '수정자시퀀스';

commit;






-- 교육이수정보
create table tb_lc_edu01(
	user_name varchar(20) not null
	, user_birth varchar(8) not null
	, user_sex char(1) not null
	, process_cd varchar(4) not null
	, career_typ char(1) not null
	, company_gubun char(1) not null
	, deploma_no varchar(30) not null
	, pass_date varchar(8) not null
	, exam_cert_no varchar(30)
	, exam_date varchar(8)
	, create_date timestamp not null
);

COMMENT ON TABLE tb_lc_edu01 IS '교육이수정보';
COMMENT ON COLUMN tb_lc_edu01.user_name IS '성명';
COMMENT ON COLUMN tb_lc_edu01.user_birth IS '생년월일';
COMMENT ON COLUMN tb_lc_edu01.user_sex IS '성별';
COMMENT ON COLUMN tb_lc_edu01.process_cd IS '교육과정명(대출/리스할부)';
COMMENT ON COLUMN tb_lc_edu01.career_typ IS '구분(신입/경력)';
COMMENT ON COLUMN tb_lc_edu01.company_gubun IS '교육기관';
COMMENT ON COLUMN tb_lc_edu01.deploma_no IS '교육이수번호(신입/경력)';
COMMENT ON COLUMN tb_lc_edu01.pass_date IS '교육수료일자(신입/경력)';
COMMENT ON COLUMN tb_lc_edu01.exam_cert_no IS '인증서번호(신규)';
COMMENT ON COLUMN tb_lc_edu01.exam_date IS '인증일자(신규)';
COMMENT ON COLUMN tb_lc_edu01.create_date IS '등록일시';

commit;


-- 교육이수정보_temp
create table tb_lc_edu01_temp(
	user_name varchar(20) not null
	, user_birth varchar(8) not null
	, user_sex char(1) not null
	, process_cd varchar(4) not null
	, career_typ char(1) not null
	, company_gubun char(1) not null
	, deploma_no varchar(30) not null
	, pass_date varchar(8) not null
	, exam_cert_no varchar(30)
	, exam_date varchar(8)
	, create_date timestamp not null
);

COMMENT ON TABLE tb_lc_edu01_temp IS '교육이수정보';
COMMENT ON COLUMN tb_lc_edu01_temp.user_name IS '성명';
COMMENT ON COLUMN tb_lc_edu01_temp.user_birth IS '생년월일';
COMMENT ON COLUMN tb_lc_edu01_temp.user_sex IS '성별';
COMMENT ON COLUMN tb_lc_edu01_temp.process_cd IS '교육과정명(대출/리스할부)';
COMMENT ON COLUMN tb_lc_edu01_temp.career_typ IS '구분(신입/경력)';
COMMENT ON COLUMN tb_lc_edu01_temp.company_gubun IS '교육기관';
COMMENT ON COLUMN tb_lc_edu01_temp.deploma_no IS '교육이수번호(신입/경력)';
COMMENT ON COLUMN tb_lc_edu01_temp.pass_date IS '교육수료일자(신입/경력)';
COMMENT ON COLUMN tb_lc_edu01_temp.exam_cert_no IS '인증서번호(신규)';
COMMENT ON COLUMN tb_lc_edu01_temp.exam_date IS '인증일자(신규)';
COMMENT ON COLUMN tb_lc_edu01_temp.create_date IS '등록일시';

commit;


-- 법인 seq
CREATE SEQUENCE tb_lc_corp_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;


-- 법인정보
create table tb_lc_corp(
	corp_seq integer not null default nextval('tb_lc_corp_seq')
	, pl_merchant_name varchar(30) not null
	, pl_merchant_no varchar(100) not null
	, pl_business_no varchar(100)
	, path_typ char(1) not null default '1'
	, pass_yn char(1) not null default 'N'
	, use_yn char(1) not null default 'Y'
	, user_seq integer
	, reg_timestamp timestamp
	, reg_seq integer
	, upd_timestamp timestamp
	, upd_seq integer
	, primary key (corp_seq)
);

COMMENT ON TABLE tb_lc_corp IS '법인정보';
COMMENT ON COLUMN tb_lc_corp.corp_seq IS '법인시퀀스';
COMMENT ON COLUMN tb_lc_corp.pl_merchant_name IS '법인명';
COMMENT ON COLUMN tb_lc_corp.pl_merchant_no IS '법인등록번호';
COMMENT ON COLUMN tb_lc_corp.pl_business_no IS '사업자번호';
COMMENT ON COLUMN tb_lc_corp.path_typ IS '등록경로';
COMMENT ON COLUMN tb_lc_corp.pass_yn IS '금융감독원등록여부';
COMMENT ON COLUMN tb_lc_corp.use_yn IS '사용여부';
COMMENT ON COLUMN tb_lc_corp.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_corp.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_corp.upd_timestamp IS '수정일시';
COMMENT ON COLUMN tb_lc_corp.upd_seq IS '수정자시퀀스';

commit;


-- 위반이력정보 seq
CREATE SEQUENCE tb_lc_violation_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;

-- 위반이력정보
create table tb_lc_violation(
	violation_seq integer not null default nextval('tb_lc_violation_seq')
	, vio_num varchar(10)
	, master_seq integer
	, user_seq integer
	, violation_cd varchar(10) not null
	, apply_yn char(1) not null default 'N'
	, reg_timestamp timestamp not null
	, reg_seq integer not null
	, upd_timestamp timestamp NULL
	, upd_seq INTEGER NULL
	, primary key (violation_seq)
);

COMMENT ON TABLE tb_lc_violation IS '위반이력정보';
COMMENT ON COLUMN tb_lc_violation.violation_seq IS '위반이력정보시퀀스';
COMMENT ON COLUMN tb_lc_violation.vio_num IS '위반이력번호';
COMMENT ON COLUMN tb_lc_violation.master_seq IS '접수번호시퀀스';
COMMENT ON COLUMN tb_lc_violation.violation_cd IS '위반이력코드';
COMMENT ON COLUMN tb_lc_violation.apply_yn IS '승인여부';
COMMENT ON COLUMN tb_lc_violation.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_violation.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_violation.upd_timestamp IS '수정일시';
COMMENT ON COLUMN tb_lc_violation.upd_seq IS '수정자시퀀스';


commit;


-- 첨부서류체크정보
create table TB_LC_FILE_CHECK(
	FILE_SEQ INTEGER
	, CHECK_CD VARCHAR(10)
	, reg_timestamp timestamp not null
	, reg_seq integer not null
);

COMMENT ON TABLE tb_lc_file_check is '첨부서류체크정보';
COMMENT ON COLUMN tb_lc_file_check.file_seq is '첨부파일시퀀스';
COMMENT ON COLUMN tb_lc_file_check.check_cd is '체크코드';
COMMENT ON COLUMN tb_lc_file_check.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_file_check.reg_seq IS '등록자시퀀스';

commit;


-- 모집인업무분담정보
create table tb_lc_work(
	member_seq integer not null
	, com_code integer not null
);

COMMENT ON TABLE tb_lc_work IS '모집인업무분담정보';
COMMENT ON COLUMN tb_lc_work.member_seq IS '담당자시퀀스';
COMMENT ON COLUMN tb_lc_work.com_code IS '회원사코드';

commit;


-- 토큰, 요청url, 요청데이터, 요청자, 요청일시
create table tb_lc_kfb_req(
	token text not null
	, url text not null
	, send_data text
	, send_user int not null
	, send_timestamp timestamp not null
);

COMMENT ON TABLE tb_lc_kfb_req IS '은행연합회송신정보';
COMMENT ON COLUMN tb_lc_kfb_req.token IS '토큰';
COMMENT ON COLUMN tb_lc_kfb_req.url IS '요청URL';
COMMENT ON COLUMN tb_lc_kfb_req.send_data IS '요청데이터';
COMMENT ON COLUMN tb_lc_kfb_req.send_user IS '요청자';
COMMENT ON COLUMN tb_lc_kfb_req.send_timestamp IS '요청일시';

-- 토큰, 요청url, 응답코드, 응답메세지, 응답일시
create table tb_lc_kfb_res(
	token text not null
	, url text not null
	, res_code varchar(3) not null
	, res_msg varchar(200) not null
	, res_data TEXT
	, res_timestamp timestamp not null
);

COMMENT ON TABLE tb_lc_kfb_res IS '은행연합회수신정보';
COMMENT ON COLUMN tb_lc_kfb_res.token IS '토큰';
COMMENT ON COLUMN tb_lc_kfb_res.url IS '요청URL';
COMMENT ON COLUMN tb_lc_kfb_res.res_code IS '응답코드';
COMMENT ON COLUMN tb_lc_kfb_res.res_msg IS '응답메세지';
COMMENT ON COLUMN tb_lc_kfb_res.res_data IS '응답데이터';
COMMENT ON COLUMN tb_lc_kfb_res.res_timestamp IS '응답일시';


-- 멀티서버 스케쥴 처리 
create table shedlock (
	name VARCHAR(64),
    lock_until TIMESTAMP(3) NULL ,
    locked_at TIMESTAMP(3) NULL ,
    locked_by VARCHAR(255), 
    PRIMARY KEY(name)
);


-- 은행연합회 api_key 배치
create table kfb_api_key(
	ins_dt varchar(8) not null
	, key text not null
	, reg_timestamp timestamp not null
	, PRIMARY KEY(ins_dt)
);


-- 접수번호 seq
CREATE SEQUENCE tb_lc_mas01_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;


-- 팝업관리 seq
CREATE SEQUENCE tb_lc_popup_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;

CREATE TABLE tb_lc_popup(
	pop_seq integer not null default nextval('tb_lc_popup_seq')
	, pop_title varchar(200)
	, pop_info text not null
	, start_day VARCHAR(8)
	, start_tm VARCHAR(6)
	, end_day VARCHAR(8)
	, end_tm VARCHAR(6)
	, dis_yn char(1) not null default 'N'
	, use_yn char(1) not null default 'N'
	, reg_timestamp timestamp
	, reg_seq integer
	, upd_timestamp timestamp
	, upd_seq integer
	, primary key (pop_seq)
);


COMMENT ON TABLE tb_lc_popup IS '팝업관리';
COMMENT ON COLUMN tb_lc_popup.pop_seq IS '팝업시퀀스';
COMMENT ON COLUMN tb_lc_popup.pop_title IS '제목';
COMMENT ON COLUMN tb_lc_popup.pop_info IS '내용';
COMMENT ON COLUMN tb_lc_popup.start_day IS '시작일';
COMMENT ON COLUMN tb_lc_popup.start_tm IS '시작시간';
COMMENT ON COLUMN tb_lc_popup.end_day IS '종료일';
COMMENT ON COLUMN tb_lc_popup.end_tm IS '종료시간';
COMMENT ON COLUMN tb_lc_popup.dis_yn IS '팝업닫기여부';
COMMENT ON COLUMN tb_lc_popup.use_yn IS '사용여부';
COMMENT ON COLUMN tb_lc_popup.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_popup.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_popup.upd_timestamp IS '수정일시';
COMMENT ON COLUMN tb_lc_popup.upd_seq IS '수정자시퀀스';



---------------- FO 분기 ------------------------

-- 회원 seq
CREATE SEQUENCE tb_lc_users_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;

create table tb_lc_users(
	user_seq integer not null default nextval('tb_lc_users_seq')
	, role_name varchar(20)
	, user_id varchar(30) not null
	, password varchar(100) not null
	, user_name varchar(50) not null
	, mobile_no varchar(20) not null
	, pl_class char(1) not null
	, crf_cd char(1) null
	, pl_m_z_id varchar(100)
	, email varchar(100)
	, user_ci varchar(100)
	, manager_name varchar(50)
	, manager_mobile_no varchar(20)
	, manager_email varchar(100)
	, corp_appr_yn char(1) not null default 'N'
	, corp_appr_dt timestamp
	, appr_txt text
	, file_seq integer
	, join_dt timestamp
	, terms_yn char(1) not null default 'N'
	, terms_dt timestamp
	, drop_yn char(1) not null default 'N'
	, drop_dt timestamp
	, inactive_yn char(1) not null default 'N'
	, inactive_dt timestamp
	, last_login_dt timestamp
	, fail_cnt INTEGER
	, fail_stop_dt timestamp
	, pw_change_dt timestamp
	, pw_token varchar(100)
	, pw_token_dt timestamp
	, reg_seq integer not null
	, reg_timestamp timestamp not null
	, upd_seq INTEGER NULL
	, upd_timestamp timestamp null
	, PRIMARY KEY (user_seq)
);


create table TB_LC_PAY_LOG
(
	URL text
	, RES_DATA text
	, FULL_URL text
	, reg_timestamp timestamp
);
commit;


create table tb_lc_users_inactive(
	user_seq integer 
	, role_name varchar(20)
	, user_id varchar(30) not null
	, password varchar(100) not null
	, user_name varchar(50) not null
	, mobile_no varchar(20) not null
	, pl_class char(1) not null
	, crf_cd char(1) null
	, pl_m_z_id varchar(100)
	, email varchar(100)
	, user_ci varchar(100)
	, manager_name varchar(50)
	, manager_mobile_no varchar(20)
	, manager_email varchar(100)
	, corp_appr_yn char(1) not null default 'N'
	, corp_appr_dt timestamp
	, appr_txt text
	, file_seq integer
	, join_dt timestamp
	, terms_yn char(1) not null default 'N'
	, terms_dt timestamp
	, drop_yn char(1) not null default 'N'
	, drop_dt timestamp
	, inactive_yn char(1) not null default 'N'
	, inactive_dt timestamp
	, last_login_dt timestamp
	, fail_cnt INTEGER
	, fail_stop_dt timestamp
	, pw_change_dt timestamp
	, pw_token varchar(100)
	, pw_token_dt timestamp
	, reg_seq integer not null
	, reg_timestamp timestamp not null
	, upd_seq INTEGER NULL
	, upd_timestamp timestamp null
	, PRIMARY KEY (user_seq)
);


-- 회원사, 관리자 휴먼테이블
create table tb_lc_members_inactive(
	member_seq integer
	, member_id varchar(20)
	, password varchar(100)
	, com_code integer
	, member_name varchar(20)
	, email varchar(100)
	, extension_no varchar(20)
	, mobile_no varchar(20)
	, dept_nm varchar(30)
	, position_nm varchar(20)
	, join_dt varchar(8)
	, role_name varchar(20)
	, terms_yn char(1)
	, terms_date varchar(8)
	, option_terms_yn char(1)
	, option_terms_date varchar(8)
	, appr_stat char(1)
	, msg varchar(200)
	, file_seq integer
	, fail_cnt integer
	, cre_yn char(1)
	, cre_grp char(1)
	, drop_yn char(1)
	, upd_seq INTEGER 
	, upd_timestamp timestamp
	, PRIMARY KEY (member_seq)
);

-- api seq
CREATE SEQUENCE tb_lc_kfb_api_log_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;

create table tb_lc_kfb_api_log(
	api_seq integer not null default nextval('tb_lc_kfb_api_log_seq')
	, api_name varchar(30)
	, token text
	, url text
	, send_data text 
	, send_user INTEGER
	, send_timestamp timestamp
	, res_yn char(1)
	, res_exp_msg text
	, res_code varchar(10)
	, res_msg text
	, res_data text
	, res_timestamp timestamp
);











-- 금융상품유형 상세

CREATE SEQUENCE tb_lc_product_detail_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;

create table tb_lc_product_detail(
	product_detail_seq integer not null default nextval('tb_lc_product_detail_seq')
	, master_seq integer not null
	, pl_product_dtl_cd varchar(30) not null
	, use_yn char(1) not null default 'Y'
	, reg_seq integer
	, reg_timestamp timestamp
	, upd_seq integer
	, upd_timestamp timestamp
	, PRIMARY KEY (product_detail_seq)
);

commit;

COMMENT ON TABLE tb_lc_product_detail IS '금융상품유형 상세';
COMMENT ON COLUMN tb_lc_product_detail.product_detail_seq IS '';
COMMENT ON COLUMN tb_lc_product_detail.master_seq IS '';
COMMENT ON COLUMN tb_lc_product_detail.pl_product_dtl_cd IS '금융상품유형 상세코드';
COMMENT ON COLUMN tb_lc_product_detail.use_yn IS '사용여부';
COMMENT ON COLUMN tb_lc_product_detail.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_product_detail.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_product_detail.upd_seq IS '수정자시퀀스';
COMMENT ON COLUMN tb_lc_product_detail.upd_timestamp IS '수정일시';

commit;


-- 개인정보 이용 동의

create table tb_lc_users_prvt(
	user_seq integer
	, collect_yn char(1)
	, search_yn char(1)
	, offer_yn char(1)
	, use_yn char(1) null default 'Y'
	, reg_seq integer null
	, reg_timestamp timestamp null
	, upd_seq INTEGER NULL
	, upd_timestamp timestamp null
);

COMMENT ON TABLE tb_lc_users_prvt IS '개인정보 필수 동의서';
COMMENT ON COLUMN tb_lc_users_prvt.user_seq IS '사용자시퀀스';
COMMENT ON COLUMN tb_lc_users_prvt.collect_yn IS '수집 이용에 관한사항 동의여부';
COMMENT ON COLUMN tb_lc_users_prvt.search_yn IS '조회에 관한사항 동의여부';
COMMENT ON COLUMN tb_lc_users_prvt.offer_yn IS '제공에 관한사항 동의여부';
COMMENT ON COLUMN tb_lc_users_prvt.use_yn IS '사용여부';
COMMENT ON COLUMN tb_lc_users_prvt.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_users_prvt.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_users_prvt.upd_seq IS '수정자시퀀스';
COMMENT ON COLUMN tb_lc_users_prvt.upd_timestamp IS '수정일시';

commit;


-- 결격사유

create table tb_lc_users_disqual(
	master_seq integer
	, user_seq integer
	, disqual_cd varchar(2)
	, disqual_val char(1)
	, use_yn char(1) null default 'Y'
	, reg_seq integer null
	, reg_timestamp timestamp null
	, upd_seq INTEGER NULL
	, upd_timestamp timestamp null
);

COMMENT ON TABLE tb_lc_users_disqual IS '결격사유';
COMMENT ON COLUMN tb_lc_users_disqual.master_seq IS '접수번호시퀀스';
COMMENT ON COLUMN tb_lc_users_disqual.user_seq IS '사용자시퀀스';
COMMENT ON COLUMN tb_lc_users_disqual.disqual_cd IS '결격코드';
COMMENT ON COLUMN tb_lc_users_disqual.disqual_val IS '해당여부';
COMMENT ON COLUMN tb_lc_users_disqual.use_yn IS '사용여부';
COMMENT ON COLUMN tb_lc_users_disqual.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_users_disqual.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_users_disqual.upd_seq IS '수정자시퀀스';
COMMENT ON COLUMN tb_lc_users_disqual.upd_timestamp IS '수정일시';

commit;


-- 사용자 이력

CREATE SEQUENCE tb_lc_users_hist_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;

create table tb_lc_users_hist(
	user_hist_seq integer not null default nextval('tb_lc_users_hist_seq')
	, user_seq integer
	, user_id varchar(30) not null
	, password varchar(100) not null
	, user_name varchar(50) not null
	, mobile_no varchar(20) not null
	, pl_class char(1) not null
	, crf_cd char(1) null
	, pl_m_z_id varchar(100)
	, email varchar(100)
	, user_ci varchar(100)
	, manager_name varchar(50)
	, manager_mobile_no varchar(20)
	, manager_email varchar(100)
	, corp_appr_yn char(1) not null default 'N'
	, corp_appr_dt timestamp
	, file_seq integer
	, join_dt timestamp
	, terms_yn char(1) not null default 'N'
	, terms_dt timestamp
	, drop_yn char(1) not null default 'N'
	, drop_dt timestamp
	, inactive_yn char(1) not null default 'N'
	, inactive_dt timestamp
	, last_login_dt timestamp
	, fail_cnt INTEGER
	, fail_stop_dt timestamp
	, pw_change_dt timestamp
	, pw_token varchar(100)
	, pw_token_dt timestamp
	, reg_seq integer not null
	, reg_timestamp timestamp not null
	, upd_seq INTEGER NULL
	, upd_timestamp timestamp null
	, PRIMARY KEY (user_hist_seq)
);

COMMENT ON TABLE tb_lc_users_hist IS '사용자 이력';

commit;


-- 사용자 정보변경 신청내역(개인)

CREATE SEQUENCE tb_lc_users_indv_req_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;

create table tb_lc_users_indv_req(
	user_indv_req_seq integer not null default nextval('tb_lc_users_indv_req_seq')
	, user_seq integer not null
	, origin_user_name varchar(100)
	, req_user_name varchar(100)
	, origin_pl_m_z_id varchar(100)
	, req_pl_m_z_id varchar(100)
	, origin_mobile_no varchar(100)
	, req_mobile_no varchar(100)
	, req_file_seq integer
	, stat char(1) not null default '1'
	, txt text
	, req_date varchar(8)
	, comp_date varchar(8)
	, use_yn char(1) not null default 'Y'
	, reg_seq integer not null
	, reg_timestamp timestamp not null
	, upd_seq INTEGER NULL
	, upd_timestamp timestamp null
	, PRIMARY KEY (user_indv_req_seq)
);

COMMENT ON TABLE tb_lc_users_indv_req IS '사용자 정보변경 신청내역(개인)';
COMMENT ON COLUMN tb_lc_users_indv_req.user_indv_req_seq IS '사용자 정보변경 시퀀스';
COMMENT ON COLUMN tb_lc_users_indv_req.user_seq IS '사용자시퀀스';
COMMENT ON COLUMN tb_lc_users_indv_req.origin_user_name IS '이름(기존)';
COMMENT ON COLUMN tb_lc_users_indv_req.req_user_name IS '이름';
COMMENT ON COLUMN tb_lc_users_indv_req.origin_pl_m_z_id IS '주민등록번호(기존)';
COMMENT ON COLUMN tb_lc_users_indv_req.req_pl_m_z_id IS '주민등록번호';
COMMENT ON COLUMN tb_lc_users_indv_req.origin_mobile_no IS '휴대폰번호(기존)';
COMMENT ON COLUMN tb_lc_users_indv_req.req_mobile_no IS '휴대폰번호';
COMMENT ON COLUMN tb_lc_users_indv_req.req_file_seq IS '첨부파일 시퀀스';
COMMENT ON COLUMN tb_lc_users_indv_req.stat IS '상태';
COMMENT ON COLUMN tb_lc_users_indv_req.txt IS '사유';
COMMENT ON COLUMN tb_lc_users_indv_req.req_date IS '신청일';
COMMENT ON COLUMN tb_lc_users_indv_req.comp_date IS '완료일(승인/거절)';
COMMENT ON COLUMN tb_lc_users_indv_req.use_yn IS '사용여부';
COMMENT ON COLUMN tb_lc_users_indv_req.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_users_indv_req.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_users_indv_req.upd_seq IS '수정자시퀀스';
COMMENT ON COLUMN tb_lc_users_indv_req.upd_timestamp IS '수정일시';

commit;


-- 사용자 정보변경 신청내역(법인)

CREATE SEQUENCE tb_lc_users_corp_req_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;

create table tb_lc_users_corp_req(
	user_corp_req_seq integer not null default nextval('tb_lc_users_corp_req_seq')
	, user_seq integer not null
	, origin_pl_merchant_name varchar(100)
	, req_pl_merchant_name varchar(100)
	, origin_user_name varchar(100)
	, req_user_name varchar(100)
	, origin_pl_m_z_id varchar(100)
	, req_pl_m_z_id varchar(100)
	, origin_mobile_no varchar(100)
	, req_mobile_no varchar(100)
	, origin_user_ci varchar(100)
	, req_user_ci varchar(100)
	, req_file_seq integer
	, stat char(1) not null default '1'
	, txt text
	, req_date varchar(8)
	, comp_date varchar(8)
	, use_yn char(1) not null default 'Y'
	, reg_seq integer not null
	, reg_timestamp timestamp not null
	, upd_seq INTEGER NULL
	, upd_timestamp timestamp null
	, PRIMARY KEY (user_corp_req_seq)
);

COMMENT ON TABLE tb_lc_users_corp_req IS '사용자 정보변경 신청내역(법인)';
COMMENT ON COLUMN tb_lc_users_corp_req.user_corp_req_seq IS '사용자 정보변경 시퀀스';
COMMENT ON COLUMN tb_lc_users_corp_req.user_seq IS '사용자시퀀스';
COMMENT ON COLUMN tb_lc_users_corp_req.origin_pl_merchant_name IS '법인명(기존)';
COMMENT ON COLUMN tb_lc_users_corp_req.req_pl_merchant_name IS '법인명';
COMMENT ON COLUMN tb_lc_users_corp_req.origin_user_name IS '대표자 성명(기존)';
COMMENT ON COLUMN tb_lc_users_corp_req.req_user_name IS '대표자 성명';
COMMENT ON COLUMN tb_lc_users_corp_req.origin_pl_m_z_id IS '대표자 주민등록번호(기존)';
COMMENT ON COLUMN tb_lc_users_corp_req.req_pl_m_z_id IS '대표자 주민등록번호';
COMMENT ON COLUMN tb_lc_users_corp_req.origin_mobile_no IS '대표자 휴대폰번호(기존)';
COMMENT ON COLUMN tb_lc_users_corp_req.req_mobile_no IS '대표자 휴대폰번호';
COMMENT ON COLUMN tb_lc_users_corp_req.origin_user_ci IS '대표자 CI(기존)';
COMMENT ON COLUMN tb_lc_users_corp_req.req_user_ci IS '대표자 CI';
COMMENT ON COLUMN tb_lc_users_corp_req.req_file_seq IS '첨부파일 시퀀스';
COMMENT ON COLUMN tb_lc_users_corp_req.stat IS '상태';
COMMENT ON COLUMN tb_lc_users_corp_req.txt IS '사유';
COMMENT ON COLUMN tb_lc_users_corp_req.req_date IS '신청일';
COMMENT ON COLUMN tb_lc_users_corp_req.comp_date IS '완료일(승인/거절)';
COMMENT ON COLUMN tb_lc_users_corp_req.use_yn IS '사용여부';
COMMENT ON COLUMN tb_lc_users_corp_req.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_users_corp_req.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_users_corp_req.upd_seq IS '수정자시퀀스';
COMMENT ON COLUMN tb_lc_users_corp_req.upd_timestamp IS '수정일시';

commit;


-- 배치 정보

CREATE SEQUENCE tb_lc_schedule_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;


CREATE TABLE public.tb_lc_schedule (
	schedule_seq int4 NOT NULL DEFAULT nextval('tb_lc_schedule_seq'::regclass),
	schedule_name varchar(30) NOT NULL,
	param varchar(500) NULL, 
	reg_time timestamp NULL,
	status char(1) null,
	error varchar(500) NULL,
	start_time timestamp NULL,
	end_time timestamp NULL,
	property01 varchar(100) NULL,
	property02 varchar(100) NULL,
	property03 varchar(100) NULL,
	property04 varchar(100) NULL,
	property05 varchar(100) NULL,
	use_yn bpchar(1) NOT NULL DEFAULT 'Y'::character varying,
	reg_seq int4 NULL,
	reg_timestamp timestamp NULL,
	upd_seq int4 NULL,
	upd_timestamp timestamp null,
	CONSTRAINT tb_lc_schedule_pkey PRIMARY KEY (schedule_seq)
);


CREATE SEQUENCE tb_lc_schedule_hist_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

CREATE TABLE public.tb_lc_schedule_hist (
	schedule_hist_seq int4 NOT NULL DEFAULT nextval('tb_lc_schedule_hist_seq'::regclass),
	schedule_name varchar(30) NOT NULL,
	req_cnt int4 NULL,
	success_cnt int4 NULL,
	start_time timestamp NULL,
	end_time timestamp NULL,
	property01 varchar(100) NULL,
	property02 varchar(100) NULL,
	property03 varchar(100 ) NULL,
	property04 varchar(100) NULL,
	property05 varchar(100) NULL,
	use_yn bpchar(1) NOT NULL DEFAULT 'Y'::character varying,
	reg_seq int4 NULL,
	reg_timestamp timestamp NULL,
	upd_seq int4 NULL,
	upd_timestamp timestamp NULL
);


--로그
CREATE TABLE public.tb_lc_bo_log (
	member_seq int8  null,
	url varchar(500) NULL,
	param text NULL,
	ip varchar(100) NULL,
	ip2 varchar(100) NULL,
	reg_timestamp timestamp NULL
);

CREATE TABLE public.tb_lc_fo_log (
	user_seq int8  null,
	url varchar(500) NULL,
	param text NULL,
	ip varchar(100) NULL,
	ip2 varchar(100) NULL,
	reg_timestamp timestamp NULL
);


-- 관할 검찰청 또는 지청 / 관할경찰서

CREATE SEQUENCE tb_lc_within_office_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;

create table tb_lc_within_office(
	within_office_seq integer not null default nextval('tb_lc_within_office_seq')
	, within_office_cd char(1)
	, within_office_name varchar(100)
	, within_office_sido varchar(100)
	, within_office_area text
	, use_yn char(1) not null default 'Y'
	, reg_seq integer null
	, reg_timestamp timestamp null
	, upd_seq INTEGER NULL
	, upd_timestamp timestamp null
	, PRIMARY KEY (within_office_seq)
);

COMMENT ON TABLE tb_lc_within_office IS '관할 검찰청 또는 지청,관할 경찰서';
COMMENT ON COLUMN tb_lc_within_office.within_office_seq IS '관할시퀀스';
COMMENT ON COLUMN tb_lc_within_office.within_office_cd IS '관할코드';
COMMENT ON COLUMN tb_lc_within_office.within_office_name IS '명칭';
COMMENT ON COLUMN tb_lc_within_office.within_office_sido IS '시도';
COMMENT ON COLUMN tb_lc_within_office.within_office_area IS '지역';
COMMENT ON COLUMN tb_lc_within_office.use_yn IS '사용여부';
COMMENT ON COLUMN tb_lc_within_office.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_within_office.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_within_office.upd_seq IS '수정자시퀀스';
COMMENT ON COLUMN tb_lc_within_office.upd_timestamp IS '수정일시';

commit;


-- 관할 행정기관

CREATE SEQUENCE tb_lc_within_adm_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;

commit;

create table tb_lc_within_adm(
	within_adm_seq integer not null default nextval('tb_lc_within_adm_seq')
	, within_adm_name varchar(100)
	, within_adm_sido varchar(100)
	, within_adm_sgg varchar(100)
	, use_yn char(1) not null default 'Y'
	, reg_seq integer NULL
	, reg_timestamp timestamp NULL
	, upd_seq INTEGER NULL
	, upd_timestamp timestamp null
	, PRIMARY KEY (within_adm_seq)
);

COMMENT ON TABLE tb_lc_within_adm IS '관할 행정기관';
COMMENT ON COLUMN tb_lc_within_adm.within_adm_seq IS '관할 행정기관 시퀀스';
COMMENT ON COLUMN tb_lc_within_adm.within_adm_name IS '관할 행정기관 명칭';
COMMENT ON COLUMN tb_lc_within_adm.within_adm_sido IS '시도';
COMMENT ON COLUMN tb_lc_within_adm.within_adm_sgg IS '시군구';
COMMENT ON COLUMN tb_lc_within_adm.use_yn IS '사용여부';
COMMENT ON COLUMN tb_lc_within_adm.reg_seq IS '등록자시퀀스';
COMMENT ON COLUMN tb_lc_within_adm.reg_timestamp IS '등록일시';
COMMENT ON COLUMN tb_lc_within_adm.upd_seq IS '수정자시퀀스';
COMMENT ON COLUMN tb_lc_within_adm.upd_timestamp IS '수정일시';


INSERT INTO public.tb_lc_cod01
(code_mst_cd, code_mst_nm, code_mst_desc, property01, property02, property03, property04, property05, use_yn, reg_seq, reg_timestamp, upd_seq, upd_timestamp)
VALUES('RT0001', '접근가능IP', '해당 IP만 사이트 접근이 가능', '', '', '', '', '', 'Y'::character varying, 0, now(), 0, now());

INSERT INTO public.tb_lc_cod01_detail
(code_mst_cd, code_dtl_cd, code_dtl_nm, code_dtl_desc, property01, property02, property03, property04, property05, use_yn, reg_seq, reg_timestamp, upd_seq, upd_timestamp)
VALUES('RT0001', '1', '118.235.9', '테스트', '', '', '', '', '', 'Y'::character varying, 0, now(), 0, now());

commit;




-- 2021.12.21 통계 관련
create table tb_lc_inaq_stats(
	name varchar(100)
	, u_key varchar(100)
	, case1 integer
	, case2 integer
	, case3 integer
	, case4 integer
	, case5 integer
	, case6 integer
	, case7 integer
	, case8 integer
);

COMMENT ON TABLE tb_lc_inaq_stats IS '부적격처리건수(모집인별)';

create table tb_lc_reg_stats(
	name varchar(100)
	, case1 integer
	, case2 integer
	, case3 integer
	, case4 integer
	, case5 integer
	, case6 integer
	, case7 integer
	, case8 integer
	, case9 integer
	, case10 integer
	, case11 integer
	, case12 integer
	, case13 integer
	, case14 integer
	, case15 integer
	, case16 integer
	, case17 integer
	, case18 integer
	, case19 integer
	, case20 integer
	, case21 integer
	, case22 integer
	, case23 integer
	, case24 integer
);

COMMENT ON TABLE tb_lc_reg_stats IS '등록처리현황(모집인별)';


create table tb_lc_cancel_stats(
	name varchar(100)
	, case1 integer
	, case2 integer
	, case3 integer
	, case4 integer
	, case5 integer
	, case6 integer
	, case7 integer
	, case8 integer
	, case9 integer
	, case10 integer
	, case11 integer
	, case12 integer
	, case13 integer
	, case14 integer
	, case15 integer
	, case16 integer
	, case17 integer
	, case18 integer
	, case19 integer
	, case20 integer
	, case21 integer
	, case22 integer
	, case23 integer
	, case24 integer
);

COMMENT ON TABLE tb_lc_cancel_stats IS '해지처리현황(모집인별)';








